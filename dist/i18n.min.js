import*as DataTier from"./data-tier/data-tier.min.js";const r=[{id:"ar",dir:"rtl",lang:"ar",label:"عربى",required:!1},{id:"en",dir:"ltr",lang:"en",label:"English",required:!0},{id:"he",dir:"rtl",lang:"he",label:"עברית",required:!1},{id:"ru",dir:"ltr",lang:"ru",label:"Русский",required:!1}],e=DataTier.ties.get("l10n")?DataTier.ties.get("l10n").model:DataTier.ties.create("l10n",{}).model,t={};let n;export{r as locales,o as getActiveLocale,i as setActiveLocale,a as initL10nPack,l as getL10n,c as stringifyDateTime,s as roundNumber,u as joinTexts};function o(){return n}function i(e){if(!e)throw new Error('invalid locale "'+e+'"');const o="object"==typeof e?r.find(r=>r===e):r.find(r=>r.id===e);if(!o)throw new Error('failed to match "'+e+'" to any of known locales');n&&n.id===o.id||(n=o,document.documentElement.lang=n.id,document.body.dir=n.dir,Object.keys(t).forEach(d))}async function a(e,n){if(!e||"string"!=typeof e)throw new Error("resource Id MUST be a non-empty string");if(Object.prototype.hasOwnProperty.call(t,e))throw new Error('l10n resource under ID "'+e+'" has already been registered');if(!n)throw new Error("invalid resource ("+n+")");if("object"!=typeof n)throw new Error("resource MUST be an object");r.forEach(r=>{if(r.required&&!(r.id in n))throw new Error('resource "'+e+'" missing ENTRY for the required locale "'+r.id+'"');if(r.required&&!n[r.id])throw new Error('resource "'+e+'" has INVALID ENTRY for the required locale "'+r.id+'"')}),t[e]=n,await d(e)}async function l(r){const e=n.id,o=t[r];if(o){if("object"==typeof o[e])return o[e];if("string"==typeof o[e]){const t=await fetch(o[e]);if(200===t.status){const r=await t.json();return o[e]=r,r}return console.error('failed to fetch l10n for locale "'+e+'", resource "'+r+'" by path "'+o[e]+'"'),null}throw new Error('no data found for locale "'+e+'", resource "'+r+'"')}throw new Error('l10n data was not registered for "'+r+'"')}async function d(r){try{e[r]=await l(r)}catch(e){console.error('failed to apply l10n change for "'+r+'"',e)}}function c(r,e){if(!(r&&r instanceof Date))throw new Error("illagal date/time parameter provided "+r);return e&&"dd/mm/yyyy"!==e?null:r.getDate().toString().padStart(2,"0")+"/"+(r.getMonth()+1).toString().padStart(2,"0")+"/"+r.getFullYear()}function s(r,e){const t="string"==typeof r?parseFloat(r):r;if("number"!=typeof t||isNaN(t))return console.error('invalid argument "'+r+'", returning is as is'),r;if("number"==typeof e){const r=Math.pow(10,e);return Math.round(t*r)/r}return t}function u(r){switch(n.id){case"en":return r.join(" and ");case"he":return r.join(" ו");default:return r.join(", ")}}i("en");